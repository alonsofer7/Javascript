{"ast":null,"code":"import _slicedToArray from\"C:/Users/Fer/Documents/UNI/Year4/Javascript/MyReactApps/ca2-festivals-example-5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'../../config';import{useState,useEffect}from'react';import FestivalCard from'../../components/FestivalCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),festivals=_useState2[0],setFestivals=_useState2[1];useEffect(function(){axios.get('/festivals').then(function(response){console.log(response.data);setFestivals(response.data);}).catch(function(err){console.error(err);});},[]);if(!festivals)return'Loading...';var deleteCallback=function deleteCallback(id){var festivalsNew=festivals.filter(function(festival){return festival._id!==id;});setFestivals(festivalsNew);};var festivalsList=festivals.map(function(festival){return/*#__PURE__*/_jsx(FestivalCard,{festival:festival._id,authenticated:props.authenticated,callback:deleteCallback});});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Festivals\"}),festivalsList]});};export default Index;","map":{"version":3,"names":["axios","useState","useEffect","FestivalCard","Index","props","festivals","setFestivals","get","then","response","console","log","data","catch","err","error","deleteCallback","id","festivalsNew","filter","festival","_id","festivalsList","map","authenticated"],"sources":["C:/Users/Fer/Documents/UNI/Year4/Javascript/MyReactApps/ca2-festivals-example-5/src/pages/festivals/Index.js"],"sourcesContent":["import axios from '../../config';\r\nimport { useState, useEffect } from 'react';\r\nimport FestivalCard from '../../components/FestivalCard';\r\n\r\nconst Index = (props) => {\r\n    const [ festivals, setFestivals ] = useState(null);\r\n\r\n    useEffect(() => {\r\n        axios.get('/festivals')\r\n             .then((response) => {\r\n                 console.log(response.data);\r\n                 setFestivals(response.data);\r\n             })\r\n             .catch((err) => {\r\n                 console.error(err);\r\n             });\r\n    }, []);\r\n\r\n\r\n    if(!festivals) return 'Loading...';\r\n\r\n    const deleteCallback = (id) => {        \r\n         let festivalsNew = festivals.filter(festival => {\r\n            return festival._id !== id;\r\n                }); \r\n\r\n                setFestivals(festivalsNew);\r\n\r\n    };\r\n\r\n\r\n    const festivalsList = festivals.map((festival) => {\r\n        return <FestivalCard festival={festival._id} authenticated={props.authenticated} callback= {deleteCallback}/>;\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <h2>Festivals</h2>\r\n            { festivalsList }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Index;"],"mappings":"qKAAA,MAAOA,MAAK,KAAM,cAAc,CAChC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,aAAY,KAAM,+BAA+B,CAAC,6IAEzD,GAAMC,MAAK,CAAG,QAARA,MAAK,CAAIC,KAAK,CAAK,CACrB,cAAoCJ,QAAQ,CAAC,IAAI,CAAC,wCAA1CK,SAAS,eAAEC,YAAY,eAE/BL,SAAS,CAAC,UAAM,CACZF,KAAK,CAACQ,GAAG,CAAC,YAAY,CAAC,CACjBC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAC1BN,YAAY,CAACG,QAAQ,CAACG,IAAI,CAAC,CAC/B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACZJ,OAAO,CAACK,KAAK,CAACD,GAAG,CAAC,CACtB,CAAC,CAAC,CACX,CAAC,CAAE,EAAE,CAAC,CAGN,GAAG,CAACT,SAAS,CAAE,MAAO,YAAY,CAElC,GAAMW,eAAc,CAAG,QAAjBA,eAAc,CAAIC,EAAE,CAAK,CAC1B,GAAIC,aAAY,CAAGb,SAAS,CAACc,MAAM,CAAC,SAAAC,QAAQ,CAAI,CAC7C,MAAOA,SAAQ,CAACC,GAAG,GAAKJ,EAAE,CACtB,CAAC,CAAC,CAEFX,YAAY,CAACY,YAAY,CAAC,CAEtC,CAAC,CAGD,GAAMI,cAAa,CAAGjB,SAAS,CAACkB,GAAG,CAAC,SAACH,QAAQ,CAAK,CAC9C,mBAAO,KAAC,YAAY,EAAC,QAAQ,CAAEA,QAAQ,CAACC,GAAI,CAAC,aAAa,CAAEjB,KAAK,CAACoB,aAAc,CAAC,QAAQ,CAAGR,cAAe,EAAE,CACjH,CAAC,CAAC,CAEF,mBACI,wCACI,iCAAkB,CAChBM,aAAa,GAChB,CAEX,CAAC,CAED,cAAenB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}